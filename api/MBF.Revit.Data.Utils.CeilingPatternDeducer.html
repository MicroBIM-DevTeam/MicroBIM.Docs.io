<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class CeilingPatternDeducer | MIcroBIM Docs </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class CeilingPatternDeducer | MIcroBIM Docs ">
      
      <meta name="description" content="Provides functionality to deduce the ceiling grid pattern for a given space based on its area, boundary points, and a primary direction.">
      <link rel="icon" href="../images/logo.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/MicroBimLogo.png" alt="MicroBIM">
            MicroBIM
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="MBF.Revit.Data.Utils.CeilingPatternDeducer">



  <h1 id="MBF_Revit_Data_Utils_CeilingPatternDeducer" data-uid="MBF.Revit.Data.Utils.CeilingPatternDeducer" class="text-break">
Class CeilingPatternDeducer  <a class="header-action link-secondary" title="View source" href="https://github.com/MicroBIM-DevTeam/MBF.Revit.Data/blob/253b5d8129b6e5c10d98b6c3ed591eb52b009297/Utils/CeilingPatternDeducer.cs"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="MBF.html">MBF</a>.<a class="xref" href="MBF.Revit.html">Revit</a>.<a class="xref" href="MBF.Revit.Data.html">Data</a>.<a class="xref" href="MBF.Revit.Data.Utils.html">Utils</a></dd></dl>
  <dl><dt>Assembly</dt><dd>MBF.Revit.Data.dll</dd></dl>
  </div>

  <div class="markdown summary">Provides functionality to deduce the ceiling grid pattern for a given space based on its area, boundary points,
and a primary direction.</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static class CeilingPatternDeducer</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><span class="xref">CeilingPatternDeducer</span></div>
    </dd>
  </dl>



  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
  </dd></dl>




  <h2 id="MBF_Revit_Data_Utils_CeilingPatternDeducer_remarks">Remarks</h2>
  <div class="markdown level0 remarks">This class contains methods to calculate the main and perpendicular ceiling grid lines, along
            with their respective offsets, based on the provided space dimensions and configuration parameters. It is designed
            to handle both small and large spaces by applying different offset values depending on the area
            threshold.</div>


  <h2 class="section" id="methods">Methods
</h2>


  <a id="MBF_Revit_Data_Utils_CeilingPatternDeducer_DeduceCeilingPatternForSpace_" data-uid="MBF.Revit.Data.Utils.CeilingPatternDeducer.DeduceCeilingPatternForSpace*"></a>

  <h3 id="MBF_Revit_Data_Utils_CeilingPatternDeducer_DeduceCeilingPatternForSpace_System_Double_System_Collections_Generic_List_Autodesk_Revit_DB_XYZ__Autodesk_Revit_DB_XYZ_System_Double_System_Double_System_Double_" data-uid="MBF.Revit.Data.Utils.CeilingPatternDeducer.DeduceCeilingPatternForSpace(System.Double,System.Collections.Generic.List{Autodesk.Revit.DB.XYZ},Autodesk.Revit.DB.XYZ,System.Double,System.Double,System.Double)">
  DeduceCeilingPatternForSpace(double, List&lt;XYZ&gt;, XYZ, double, double, double)
  <a class="header-action link-secondary" title="View source" href="https://github.com/MicroBIM-DevTeam/MBF.Revit.Data/blob/253b5d8129b6e5c10d98b6c3ed591eb52b009297/Utils/CeilingPatternDeducer.cs"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary">Deduces the ceiling grid pattern for a given space using its area, boundary points, and a primary direction.</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static MbResult&lt;(Line maxLine, double maxOffset, Line minLine, double minOffset)&gt; DeduceCeilingPatternForSpace(double currentSpaceArea, List&lt;XYZ&gt; spacePoints, XYZ primaryDirection, double smallSpaceThreshold, double smallSpaceOffsetFeet, double largeSpaceOffsetFeet)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>currentSpaceArea</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd>The area of the space in square feet.</dd>
    <dt><code>spacePoints</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.list-1">List</a>&lt;<span class="xref">XYZ</span>&gt;</dt>
    <dd>The list of points representing the boundary of the space. Must not be null or empty.</dd>
    <dt><code>primaryDirection</code> <span class="xref">XYZ</span></dt>
    <dd>The primary direction vector for the ceiling grid. Must not be null.</dd>
    <dt><code>smallSpaceThreshold</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd>The area threshold (in square feet) below which the space is considered small.</dd>
    <dt><code>smallSpaceOffsetFeet</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd>The offset (in feet) to use for small spaces.</dd>
    <dt><code>largeSpaceOffsetFeet</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd>The offset (in feet) to use for large spaces.</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="MB.Common.Utils.Result.MbResult-1.html">MbResult</a>&lt;(<span class="xref">Line</span> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-autodesk.revit.db.line,system.double,autodesk.revit.db.line,system.double-.maxline">maxLine</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-autodesk.revit.db.line,system.double,autodesk.revit.db.line,system.double-.maxoffset">maxOffset</a>, <span class="xref">Line</span> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-autodesk.revit.db.line,system.double,autodesk.revit.db.line,system.double-.minline">minLine</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-autodesk.revit.db.line,system.double,autodesk.revit.db.line,system.double-.minoffset">minOffset</a>)&gt;</dt>
    <dd>An <a class="xref" href="MB.Common.Utils.Result.MbResult-1.html">MbResult&lt;T&gt;</a> containing a tuple with:
<ul><li><code>maxLine</code>: The main ceiling grid line in the primary direction.</li><li><code>maxOffset</code>: The offset for the main grid line.</li><li><code>minLine</code>: The perpendicular ceiling grid line.</li><li><code>minOffset</code>: The offset for the perpendicular grid line.</li></ul>
<p>
<b>Possible error messages:</b>
<ul><li>
<code>"Space points cannot be null or empty"</code> - Returned if <code class="paramref">spacePoints</code> is null or contains no elements.
</li><li>
<code>"Primary direction cannot be null"</code> - Returned if <code class="paramref">primaryDirection</code> is null.
</li><li>
<code>"Error creating line with provided direction: {ex.Message}"</code> - Returned if an exception occurs while creating the main grid line.
</li><li>
<code>"Could not determine max dimension line"</code> - Returned if the main grid line could not be created.
</li></ul>
</dd>
  </dl>












</article>



      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          © 2025 MicroBIM. All rights reserved.
        </div>
      </div>
    </footer>
  </body>
</html>
